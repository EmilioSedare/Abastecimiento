import numpy as np
import math
#-------------------------------------------------------------------------
#Constantes:
pi=np.pi
g=9.807  #m/s2
den=998.2   #kg/m3

#-------------------------------------------------------------------------
#Hallando Viscosidad:
T=20     #Â°C
vis=(1.14-0.031*(T-15)+0.00068*((T-15)**2))*10**(-6)

#-------------------------------------------------------------------------
#Datos:
Q=120/1000   #m3/s
L=200 #m
Ht=1.9   #m
ks=0.0015/1000    #m
km=0

z2=0    #m

#-------------------------------------------------------------------------
hf=Ht-z2
#=======================================================================================
#Para iteracion:
D_0=1   #semilla
tol=0.00001
error=hf
while error>=   tol:
    D_i=(-2*np.log10(ks/(3.7*D_0)+2.51/(((4*Q)/(pi*D_0*vis))*((hf*g*pi**2*D_0**5)/(8*L*Q**2))**(1/2))))**(-2/5)/\
      (((hf*g*pi**2)/(8*L*Q**2))**(1/5))
    error=abs(D_0-D_i)
    D_0=D_i
    print(D_0)
v_i=4*Q/(pi*D_0**2)
Re=v_i*D_0/vis
f=hf*D_0*2*g/(L*v_i**2)
print("____________________________________________________")
print("Re = ", Re)
print("v_2 = ", v_i)
print("f = ", f)
print("D = ", D_0*1000)
print("D(pulg) = ", D_0*39.37)
print("====================================================")